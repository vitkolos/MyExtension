<div class="form-group" ng-if="rubedo.current.user&&field.config.allowedDAMTypes" ng-controller="MediaFieldController as mediaFieldCtrl">
    <label for="{{fieldIdPrefix+'_'+field.config.name}}" class="control-label">{{field.config.fieldLabel}} <span ng-if="!field.config.allowBlank&&!field.config.fieldLabel.includes('*')">*</span></label>
    <div ng-if="mediaFieldCtrl.fileTypeTemplate" ng-include="mediaFieldCtrl.fileTypeTemplate"></div>
    
    <div  class="row" ng-init="fieldEditMode=true">
        <div class="col-sm-12">
                <em>Depuis la Médiathèque</em>
                <button
                ng-click="mediaFieldCtrl.launchEditor()"
                class="btn btn-default">
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                </button>
        </div>
    </div>
    <div class="form-control">
        <rubedo-notification ng-if="mediaFieldCtrl.notification" ng-init="notification=mediaFieldCtrl.notification"></rubedo-notification>
        <p>Uploader un fichier</p>
        
            <input type="file" ngf-select="upload($file)" ng-if="field.config.allowedDAMTypes=='545cd95245205e91168b45b1' "
                accept="image/*" 
                ngf-pattern="'image/*'"
                ngf-resize="{width: 1900, quality: .8}"
                ngf-resize-if="$width >1900 || $file.size>1024*500">
                
            <input type="file" ng-if="field.config.allowedDAMTypes!='545cd95245205e91168b45b1' "
               id="{{fieldIdPrefix+'_'+field.config.name}}"
               ng-required="!field.config.allowBlank"
               file-model="mediaFieldCtrl.newFile"
                >

        <span ng-if="field.config.tooltip" class="help-block">{{field.config.tooltip}}</span>
    </div>
</div>